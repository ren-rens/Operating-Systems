# Условие
Дадена е програма за ОС Linux, написана на езика C:
```
#include <unistd.h>
#include <stdio.h>
int main(void)
{
int p1, p2;
p1=fork();
p2=fork();
printf("Hello world!\n");
}
```
а) Колко пъти ще се отпечата текста "Hello world!" при изпълнението на програмата? Обосновете отговора си.
б) Как работи системното извикване fork()?
в) Нарисувайте кореновото дърво с върхове процесите, които ще се стартират в резултат от изпълнението на програмата и ребра двойките родител-наследник.

## Анализ на изпълнението
### Стъпки на изпълнението
1. Процес P0 (начален процес):
* Извиква p1 = fork() --> създава P1
2. Процес P1
* Програмата продължава в child процеса P1, като изпълнява p2 = fork()
3. Процес P2
* В процеса P2 се принтира Hello World и P2 приключва (1 изписване)
4. Връщаме се в P1
* След като P1 е извършило fork() -> P2, принтира Hello World (1 изписване) и приключва
5. Връщаме се в P0
* След като в P0 се е изпълнил fork() -> P1, продължаваме надолу по кода и извършваме p2 = fork()
* p2 = fork() създава child процес -> P3, който принтира Hello World (1 изписване) и умира
* Връщаме се в P0 и се изписва Hello World (1 изписване) и процеса приключва
### Обща бройка на отпечатванията:
* P0 -> 1
* P1 -> 1
* P2 -> 1
* P3 -> 1
Общо 4 пъти

## Системно извикване fork()
fork() е системен повик в UNIX-подобни ОС, който създава нов процес, наречен дъщерен процес, като копие на текущия (родителски) процес.
### Основни характеристики:
* Връща 0 в дъщерния процес.
* Връща PID на дъщерния процес в родителския процес.
* Създава нов PID и идентично копие на програмния контекст.
* Двата процеса продължават изпълнението независимо, от точката след fork().
* Връща -1 при възникнала грешка

## Кореново дърво
```
        P0
       /  \
     P1    P2
     |
    P3
```
